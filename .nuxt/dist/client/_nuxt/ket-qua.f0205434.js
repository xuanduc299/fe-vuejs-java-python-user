import{u as B}from"./cart.caca9891.js";import{b as P,c as j}from"./entry.98dfd619.js";import{P as I}from"./PaymentService.5f7c0cf5.js";import{B as G,_ as V}from"./index.7b78a5c4.js";import{C as L}from"./index.be0ec20f.js";import{B as N}from"./index.42b56407.js";import{d as E,i as H,a as C,J as R,a7 as U,a0 as d,D as o,R as s,u as n,U as e,a2 as r,a1 as a,Q as M,P as p,ab as b}from"./swiper-vue.a421f1cd.js";import{_ as $}from"./index.b34af542.js";import{_ as A}from"./index.833c360b.js";import{_ as F}from"./index.29383fe5.js";import"./FetchInstance.12311bd0.js";import"./dropdown.3b7ba1b5.js";import"./index.6d00dcf5.js";import"./index.a68a0920.js";import"./KeyCode.6e31e5e1.js";import"./zoom.cba4073c.js";import"./ResizeObserver.es.0f9f8adb.js";import"./collapseMotion.f1f8d61b.js";import"./index.f15daada.js";import"./index.73bdfe75.js";import"./useRefs.ffce2853.js";import"./hasIn.fd17fd00.js";import"./isSymbol.28713955.js";import"./isMobile.358fd6c2.js";import"./useMergedState.8fbbbf27.js";import"./Password.0211d37f.js";import"./styleChecker.29229325.js";import"./EyeOutlined.deffa0c0.js";import"./useFlexGapSupport.d9dc3cd0.js";import"./eagerComputed.a5367e69.js";import"./css.faa01186.js";import"./pickAttrs.aaf4be5e.js";import"./index.7a7f2286.js";import"./index.56ca7c7d.js";import"./LeftOutlined.b7f52e0f.js";import"./SearchOutlined.4ca08eb4.js";import"./index.4c10a40d.js";import"./index.ea786c70.js";import"./index.3fdac0c6.js";import"./debounce.ff103b05.js";import"./scrollTo.aaa727bd.js";const J={class:"px-3 md:px-[50px] w-full"},K={key:0,class:"p-5 text-center"},O=e("h3",{class:"text-2xl mb-0"},"Đơn hàng đã được tạo thành công!",-1),Q={class:"mb-3 text-[#777c87]"},z={class:"text-black font-[600]"},W=e("br",null,null,-1),X=e("h3",{class:"text-2xl",style:{"border-bottom":"2px solid orange"}}," Thông Tin Đơn Hàng ",-1),Y={key:0,class:"w-[500px]"},Z={class:"m-0 font-semibold"},tt={class:"m-0"},st={key:1},et={key:2},ot=e("span",{class:"font-semibold"}," Tổng sản phẩm ",-1),nt=e("span",{class:"font-semibold"}," Tổng tiền sản phẩm ",-1),at=e("span",{class:"font-semibold"}," Phí ship ",-1),it=e("span",{class:"font-semibold"}," Giảm giá ",-1),lt={class:"text-end"},ct=e("span",{class:"font-semibold"}," Hình thức thanh toán ",-1),_t=e("span",{class:"font-semibold"}," Tổng tiền thanh toán ",-1),rt={class:"text-red-500"},ut={class:"w-full"},mt={class:"w-full"},os=E({__name:"ket-qua",setup(pt){const u=H("formatVnCurrency",c=>0),m=P(),h=j(),T=B(),k=[{title:"Sản phẩm",className:"product",dataIndex:"product",align:"center"},{title:"Giá",dataIndex:"price",align:"center"},{title:"Tổng",dataIndex:"qty",align:"center"}],x=C([]),l=C();return R(()=>{m.query.status?m.query.status=="SUCCESS"?m.query.id?I.getDetailOrder(m.query.id).then(c=>{console.log("detail order: ",c),l.value=c,x.value=c.chiTietDonHang,T.fSetCart([])}).catch(c=>{console.log("get detail order failed: ",c),h.push("/404")}):h.push("/404"):m.query.status=="FAILED"||h.push("/404"):h.push("/404")}),(c,dt)=>{var w;const f=U("router-link"),g=V,S=G,_=A,y=N,q=F,v=L,D=$;return p(),d("div",J,[o(S,{class:"bg-gray-50 p-2"},{default:s(()=>[o(g,null,{default:s(()=>[o(f,{to:"/"},{default:s(()=>[r("Trang chủ")]),_:1})]),_:1}),o(g,null,{default:s(()=>[r("Đặt hàng")]),_:1}),o(g,null,{default:s(()=>[r("Kết quả")]),_:1})]),_:1}),n(m).query.status=="SUCCESS"?(p(),d("section",K,[O,e("p",Q,[r(" Mã đơn hàng của bạn là: "),e("span",z,"#"+a((w=n(l))==null?void 0:w.maDonHang),1),W,r(" Chúng tôi sẽ liên hệ lại với bạn để xác nhận đơn hàng. Cảm ơn quý khách đã sử dụng dịch vụ! ")]),o(v,null,{default:s(()=>[X,o(q,{columns:k,"data-source":n(x),pagination:!1},{bodyCell:s(({column:t,text:ht,record:i})=>[t.dataIndex==="product"?(p(),d("div",Y,[o(f,{class:"m-0",to:`/san-pham/${i.sanPham.tieuDe}/${i.sanPham.id}`},{default:s(()=>[e("span",Z,a(i.sanPham.tieuDe),1)]),_:2},1032,["to"]),e("p",tt,a(i==null?void 0:i.motaPhanLoai)+" - x"+a(i.soLuong),1)])):b("",!0),t.dataIndex==="price"?(p(),d("span",st,a(n(u)(i.giaTien)),1)):b("",!0),t.dataIndex==="qty"?(p(),d("span",et,a(n(u)(i.giaTien*i.soLuong)),1)):b("",!0)]),footer:s(()=>[o(_,{direction:"vertical",class:"w-full"},{default:s(()=>[o(_,{class:"justify-between w-full"},{default:s(()=>{var t;return[ot,e("span",null,a(((t=n(l))==null?void 0:t.tongSp)|0),1)]}),_:1}),o(_,{class:"justify-between w-full"},{default:s(()=>{var t;return[nt,e("span",null,a(n(u)((t=n(l))==null?void 0:t.tongGiaTien)),1)]}),_:1}),o(_,{class:"justify-between w-full"},{default:s(()=>{var t;return[at,e("span",null,a(n(u)((t=n(l))==null?void 0:t.phiShip)),1)]}),_:1}),o(_,{class:"justify-between w-full items-start"},{default:s(()=>{var t;return[it,e("span",lt,a(n(u)((t=n(l))==null?void 0:t.tongTienGiamGia)),1)]}),_:1}),o(_,{class:"justify-between w-full"},{default:s(()=>{var t;return[ct,e("span",null,a((t=n(l))==null?void 0:t.phuongThucTT),1)]}),_:1}),o(_,{class:"justify-between w-full"},{default:s(()=>{var t;return[_t,e("span",rt,a(n(u)((t=n(l))==null?void 0:t.tongGiaCuoiCung)),1)]}),_:1}),e("div",ut,[o(y,{class:"bg-black text-white mx-auto w-fit"},{default:s(()=>[o(f,{to:"/"},{default:s(()=>[r("Tiếp tục mua sắm ")]),_:1})]),_:1})])]),_:1})]),_:1},8,["data-source"])]),_:1})])):(p(),M(D,{key:1,status:"error",title:"Thanh toán thất bại!"},{extra:s(()=>[e("div",mt,[o(y,{class:"bg-black text-white mx-auto w-fit"},{default:s(()=>[o(f,{to:"/"},{default:s(()=>[r("Tiếp tục mua sắm ")]),_:1})]),_:1})])]),_:1}))])}}});export{os as default};
