import{q as x,f as je,U as Ce,V as Te,W as qe,j as fe,P as he,X as We,N as ne,z as B,C as ge,B as me,I as xe,x as Z,y as _e,v as ae}from"./entry.98dfd619.js";import{c as Ne,g as Re,b as He,a as se,v as $e,d as Me,_ as De,u as ze,e as Ue,f as ve,t as le,h as be,i as Xe}from"./FormItem.aab759e1.js";import{S as Ye,a as pe,i as ke}from"./zoom.cba4073c.js";import{b as Ke,c as Ge,d as Qe,i as Ze}from"./index.42b56407.js";import{s as Je,o as Be,i as et,a as de,b as tt,c as Ie,t as nt,f as rt}from"./hasIn.fd17fd00.js";import{b as it,c as lt}from"./collapseMotion.f1f8d61b.js";import{d as at}from"./debounce.ff103b05.js";import{i as st}from"./Password.0211d37f.js";import{a as Le,u as Y,r as ot,s as ut,w as ie,n as ct,o as we,d as dt,c as S,D as ft}from"./swiper-vue.a421f1cd.js";import{u as ht,a as ce}from"./styleChecker.29229325.js";function ye(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Fe(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function oe(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Fe(n.overflowY,t)||Fe(n.overflowX,t)||function(s){var r=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(s);return!!r&&(r.clientHeight<s.scrollHeight||r.clientWidth<s.scrollWidth)}(e)}return!1}function re(e,t,n,s,r,i,u,F){return i<e&&u>t||i>e&&u<t?0:i<=e&&F<=n||u>=t&&F>=n?i-e-s:u>t&&F<n||i<e&&F>n?u-t+r:0}var Pe=function(e,t){var n=window,s=t.scrollMode,r=t.block,i=t.inline,u=t.boundary,F=t.skipOverflowHiddenElements,P=typeof u=="function"?u:function(Ae){return Ae!==u};if(!ye(e))throw new TypeError("Invalid target");for(var V,M,T=document.scrollingElement||document.documentElement,I=[],b=e;ye(b)&&P(b);){if((b=(M=(V=b).parentElement)==null?V.getRootNode().host||null:M)===T){I.push(b);break}b!=null&&b===document.body&&oe(b)&&!oe(document.documentElement)||b!=null&&oe(b,F)&&I.push(b)}for(var O=n.visualViewport?n.visualViewport.width:innerWidth,L=n.visualViewport?n.visualViewport.height:innerHeight,R=window.scrollX||pageXOffset,q=window.scrollY||pageYOffset,_=e.getBoundingClientRect(),o=_.height,l=_.width,f=_.top,p=_.right,v=_.bottom,d=_.left,w=r==="start"||r==="nearest"?f:r==="end"?v:f+o/2,h=i==="center"?d+l/2:i==="end"?p:d,y=[],A=0;A<I.length;A++){var g=I[A],j=g.getBoundingClientRect(),N=j.height,H=j.width,a=j.top,c=j.right,m=j.bottom,E=j.left;if(s==="if-needed"&&f>=0&&d>=0&&v<=L&&p<=O&&f>=a&&v<=m&&d>=E&&p<=c)return y;var W=getComputedStyle(g),D=parseInt(W.borderLeftWidth,10),X=parseInt(W.borderTopWidth,10),C=parseInt(W.borderRightWidth,10),$=parseInt(W.borderBottomWidth,10),k=0,z=0,G="offsetWidth"in g?g.offsetWidth-g.clientWidth-D-C:0,U="offsetHeight"in g?g.offsetHeight-g.clientHeight-X-$:0,Q="offsetWidth"in g?g.offsetWidth===0?0:H/g.offsetWidth:0,ee="offsetHeight"in g?g.offsetHeight===0?0:N/g.offsetHeight:0;if(T===g)k=r==="start"?w:r==="end"?w-L:r==="nearest"?re(q,q+L,L,X,$,q+w,q+w+o,o):w-L/2,z=i==="start"?h:i==="center"?h-O/2:i==="end"?h-O:re(R,R+O,O,D,C,R+h,R+h+l,l),k=Math.max(0,k+q),z=Math.max(0,z+R);else{k=r==="start"?w-a-X:r==="end"?w-m+$+U:r==="nearest"?re(a,m,N,X,$+U,w,w+o,o):w-(a+N/2)+U/2,z=i==="start"?h-E-D:i==="center"?h-(E+H/2)+G/2:i==="end"?h-c+C+G:re(E,c,H,D,C+G,h,h+l,l);var te=g.scrollLeft,J=g.scrollTop;w+=J-(k=Math.max(0,Math.min(J+k/ee,g.scrollHeight-N/ee+U))),h+=te-(z=Math.max(0,Math.min(te+z/Q,g.scrollWidth-H/Q+G)))}y.push({el:g,top:k,left:z})}return y};function Se(e){return e===Object(e)&&Object.keys(e).length!==0}function gt(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(s){var r=s.el,i=s.top,u=s.left;r.scroll&&n?r.scroll({top:i,left:u,behavior:t}):(r.scrollTop=i,r.scrollLeft=u)})}function mt(e){return e===!1?{block:"end",inline:"nearest"}:Se(e)?e:{block:"start",inline:"nearest"}}function vt(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Se(t)&&typeof t.behavior=="function")return t.behavior(n?Pe(e,t):[]);if(n){var s=mt(t);return gt(Pe(e,s),s.behavior)}}function bt(e,t){return Je(Be(e,t,et),e+"")}function pt(e,t,n){var s=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++s<r;)i[s]=e[s+t];return i}function wt(e){return Ke(e)&&Ge(e)}function yt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ft=Math.min;function Pt(e,t,n){for(var s=n?it:lt,r=e[0].length,i=e.length,u=i,F=Array(i),P=1/0,V=[];u--;){var M=e[u];u&&t&&(M=de(M,Qe(t))),P=Ft(M.length,P),F[u]=!n&&(t||r>=120&&M.length>=120)?new Ye(u&&M):void 0}M=e[0];var T=-1,I=F[0];e:for(;++T<r&&V.length<P;){var b=M[T],O=t?t(b):b;if(b=n||b!==0?b:0,!(I?pe(I,O):s(V,O,n))){for(u=i;--u;){var L=F[u];if(!(L?pe(L,O):s(e[u],O,n)))continue e}I&&I.push(O),V.push(b)}}return V}function Ot(e){return wt(e)?e:[]}var Et=bt(function(e){var t=de(e,Ot);return t.length&&t[0]===e[0]?Pt(t):[]});const Mt=Et;function kt(e,t){return t.length<2?e:tt(e,pt(t,0,-1))}function It(e,t){return t=Ie(t,e),e=kt(e,t),e==null||delete e[nt(yt(t))]}function Lt(e){return st(e)?void 0:e}var St=1,Vt=2,At=4,jt=rt(function(e,t){var n={};if(e==null)return n;var s=!1;t=de(t,function(i){return i=Ie(i,e),s||(s=i.length>1),i}),Ne(e,Re(e),n),s&&(n=He(n,St|Vt|At,Lt));for(var r=t.length;r--;)It(n,t[r]);return n});const Ct=jt;function Ve(e){let t=!1,n=e.length;const s=[];return e.length?new Promise((r,i)=>{e.forEach((u,F)=>{u.catch(P=>(t=!0,P)).then(P=>{n-=1,s[F]=P,!(n>0)&&(t&&i(s),r(s))})})}):Promise.resolve([])}function Oe(e){let t=!1;return e&&e.length&&e.every(n=>n.required?(t=!0,!1):!0),t}function Ee(e){return e==null?[]:Array.isArray(e)?e:[e]}function ue(e,t,n){let s=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");const r=t.split(".");let i=0;for(let u=r.length;i<u-1&&!(!s&&!n);++i){const F=r[i];if(F in s)s=s[F];else{if(n)throw new Error("please transfer a valid name path to validate!");break}}return{o:s,k:r[i],v:s?s[r[i]]:null,isValid:s&&r[i]in s}}function Tt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Le({}),n=arguments.length>2?arguments[2]:void 0;const s=se(Y(e)),r=ot({}),i=ut([]),u=o=>{x(Y(e),x(x({},se(s)),o)),ct(()=>{Object.keys(r).forEach(l=>{r[l]={autoLink:!1,required:Oe(Y(t)[l])}})})},F=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;return l.length?o.filter(f=>{const p=Ee(f.trigger||"change");return Mt(p,l).length}):o};let P=null;const V=function(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2?arguments[2]:void 0;const p=[],v={};for(let h=0;h<o.length;h++){const y=o[h],A=ue(Y(e),y,f);if(!A.isValid)continue;v[y]=A.v;const g=F(Y(t)[y],Ee(l&&l.trigger));g.length&&p.push(M(y,A.v,g,l||{}).then(()=>({name:y,errors:[],warnings:[]})).catch(j=>{const N=[],H=[];return j.forEach(a=>{let{rule:{warningOnly:c},errors:m}=a;c?H.push(...m):N.push(...m)}),N.length?Promise.reject({name:y,errors:N,warnings:H}):{name:y,errors:N,warnings:H}}))}const d=Ve(p);P=d;const w=d.then(()=>P===d?Promise.resolve(v):Promise.reject([])).catch(h=>{const y=h.filter(A=>A&&A.errors.length);return Promise.reject({values:v,errorFields:y,outOfDate:P!==d})});return w.catch(h=>h),w},M=function(o,l,f){let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const v=$e([o],l,f,x({validateMessages:Me},p),!!p.validateFirst);return r[o]?(r[o].validateStatus="validating",v.catch(d=>d).then(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var w;if(r[o].validateStatus==="validating"){const h=d.filter(y=>y&&y.errors.length);r[o].validateStatus=h.length?"error":"success",r[o].help=h.length?h.map(y=>y.errors):null,(w=n==null?void 0:n.onValidate)===null||w===void 0||w.call(n,o,!h.length,h.length?we(r[o].help[0]):null)}}),v):v.catch(d=>d)},T=(o,l)=>{let f=[],p=!0;o?Array.isArray(o)?f=o:f=[o]:(p=!1,f=i.value);const v=V(f,l||{},p);return v.catch(d=>d),v},I=o=>{let l=[];o?Array.isArray(o)?l=o:l=[o]:l=i.value,l.forEach(f=>{r[f]&&x(r[f],{validateStatus:"",help:null})})},b=o=>{const l={autoLink:!1},f=[],p=Array.isArray(o)?o:[o];for(let v=0;v<p.length;v++){const d=p[v];(d==null?void 0:d.validateStatus)==="error"&&(l.validateStatus="error",d.help&&f.push(d.help)),l.required=l.required||(d==null?void 0:d.required)}return l.help=f,l};let O=s,L=!0;const R=o=>{const l=[];i.value.forEach(f=>{const p=ue(o,f,!1),v=ue(O,f,!1);(L&&(n==null?void 0:n.immediate)&&p.isValid||!ke(p.v,v.v))&&l.push(f)}),T(l,{trigger:"change"}),L=!1,O=se(we(o))},q=n==null?void 0:n.debounce;let _=!0;return ie(t,()=>{i.value=t?Object.keys(Y(t)):[],!_&&n&&n.validateOnRuleChange&&T(),_=!1},{deep:!0,immediate:!0}),ie(i,()=>{const o={};i.value.forEach(l=>{o[l]=x({},r[l],{autoLink:!1,required:Oe(Y(t)[l])}),delete r[l]});for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&delete r[l];x(r,o)},{immediate:!0}),ie(e,q&&q.wait?at(R,q.wait,Ct(q,["wait"])):R,{immediate:n&&!!n.immediate,deep:!0}),{modelRef:e,rulesRef:t,initialModel:s,validateInfos:r,resetFields:u,validate:T,validateField:M,mergeValidateInfo:b,clearValidate:I}}const qt=()=>({layout:he.oneOf(We("horizontal","inline","vertical")),labelCol:ne(),wrapperCol:ne(),colon:B(),labelAlign:ge(),labelWrap:B(),prefixCls:String,requiredMark:me([String,Boolean]),hideRequiredMark:B(),model:he.object,rules:ne(),validateMessages:ne(),validateOnRuleChange:B(),scrollToFirstError:xe(),onSubmit:Z(),name:String,validateTrigger:me([String,Array]),size:ge(),disabled:B(),onValuesChange:Z(),onFieldsChange:Z(),onFinish:Z(),onFinishFailed:Z(),onValidate:Z()});function Wt(e,t){return ke(le(e),le(t))}const xt=dt({compatConfig:{MODE:3},name:"AForm",inheritAttrs:!1,props:Ze(qt(),{layout:"horizontal",hideRequiredMark:!1,colon:!0}),Item:De,useForm:Tt,setup(e,t){let{emit:n,slots:s,expose:r,attrs:i}=t;const{prefixCls:u,direction:F,form:P,size:V,disabled:M}=je("form",e),T=S(()=>e.requiredMark===""||e.requiredMark),I=S(()=>{var a;return T.value!==void 0?T.value:P&&((a=P.value)===null||a===void 0?void 0:a.requiredMark)!==void 0?P.value.requiredMark:!e.hideRequiredMark});Ce(V),Te(M);const b=S(()=>{var a,c;return(a=e.colon)!==null&&a!==void 0?a:(c=P.value)===null||c===void 0?void 0:c.colon}),{validateMessages:O}=qe(),L=S(()=>x(x(x({},Me),O.value),e.validateMessages)),[R,q]=ze(u),_=S(()=>_e(u.value,{[`${u.value}-${e.layout}`]:!0,[`${u.value}-hide-required-mark`]:I.value===!1,[`${u.value}-rtl`]:F.value==="rtl",[`${u.value}-${V.value}`]:V.value},q.value)),o=Le(),l={},f=(a,c)=>{l[a]=c},p=a=>{delete l[a]},v=a=>{const c=!!a,m=c?le(a).map(be):[];return c?Object.values(l).filter(E=>m.findIndex(W=>Wt(W,E.fieldName.value))>-1):Object.values(l)},d=a=>{if(!e.model){ae();return}v(a).forEach(c=>{c.resetField()})},w=a=>{v(a).forEach(c=>{c.clearValidate()})},h=a=>{const{scrollToFirstError:c}=e;if(n("finishFailed",a),c&&a.errorFields.length){let m={};typeof c=="object"&&(m=c),A(a.errorFields[0].name,m)}},y=function(){return N(...arguments)},A=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const m=v(a?[a]:void 0);if(m.length){const E=m[0].fieldId.value,W=E?document.getElementById(E):null;W&&vt(W,x({scrollMode:"if-needed",block:"nearest"},c))}},g=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(a===!0){const c=[];return Object.values(l).forEach(m=>{let{namePath:E}=m;c.push(E.value)}),ve(e.model,c)}else return ve(e.model,a)},j=(a,c)=>{if(ae(),!e.model)return ae(),Promise.reject("Form `model` is required for validateFields to work.");const m=!!a,E=m?le(a).map(be):[],W=[];Object.values(l).forEach(C=>{var $;if(m||E.push(C.namePath.value),!(!(($=C.rules)===null||$===void 0)&&$.value.length))return;const k=C.namePath.value;if(!m||Xe(E,k)){const z=C.validateRules(x({validateMessages:L.value},c));W.push(z.then(()=>({name:k,errors:[],warnings:[]})).catch(G=>{const U=[],Q=[];return G.forEach(ee=>{let{rule:{warningOnly:te},errors:J}=ee;te?Q.push(...J):U.push(...J)}),U.length?Promise.reject({name:k,errors:U,warnings:Q}):{name:k,errors:U,warnings:Q}}))}});const D=Ve(W);o.value=D;const X=D.then(()=>o.value===D?Promise.resolve(g(E)):Promise.reject([])).catch(C=>{const $=C.filter(k=>k&&k.errors.length);return Promise.reject({values:g(E),errorFields:$,outOfDate:o.value!==D})});return X.catch(C=>C),X},N=function(){return j(...arguments)},H=a=>{a.preventDefault(),a.stopPropagation(),n("submit",a),e.model&&j().then(m=>{n("finish",m)}).catch(m=>{h(m)})};return r({resetFields:d,clearValidate:w,validateFields:j,getFieldsValue:g,validate:y,scrollToField:A}),Ue({model:S(()=>e.model),name:S(()=>e.name),labelAlign:S(()=>e.labelAlign),labelCol:S(()=>e.labelCol),labelWrap:S(()=>e.labelWrap),wrapperCol:S(()=>e.wrapperCol),vertical:S(()=>e.layout==="vertical"),colon:b,requiredMark:I,validateTrigger:S(()=>e.validateTrigger),rules:S(()=>e.rules),addField:f,removeField:p,onValidate:(a,c,m)=>{n("validate",a,c,m)},validateMessages:L}),ie(()=>e.rules,()=>{e.validateOnRuleChange&&j()}),()=>{var a;return R(ft("form",fe(fe({},i),{},{onSubmit:H,class:[_.value,i.class]}),[(a=s.default)===null||a===void 0?void 0:a.call(s)]))}}}),K=xt;K.useInjectFormItemContext=ht;K.ItemRest=ce;K.install=function(e){return e.component(K.name,K),e.component(K.Item.name,K.Item),e.component(ce.name,ce),e};export{K as F};
