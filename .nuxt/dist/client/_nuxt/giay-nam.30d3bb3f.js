import{_ as O}from"./ProductFilterSidebar.vue.5c0b9264.js";import{a as R,n as A}from"./entry.98dfd619.js";import{P as I}from"./ProductService.87d523f1.js";import{B as J,_ as K}from"./index.7b78a5c4.js";import{S as Q}from"./index.7a7f2286.js";import{_ as W,M as X}from"./index.6d00dcf5.js";import{B as Y}from"./index.42b56407.js";import"./index.ea786c70.js";import{D as Z,a as oo}from"./dropdown.3b7ba1b5.js";import{d as no,i as to,a as q,r as w,w as ao,J as so,a7 as eo,a0 as d,D as n,R as a,U as c,a9 as ro,u as e,P as _,a2 as h,a1 as g,F as B,aa as co,ab as S,Q as uo}from"./swiper-vue.a421f1cd.js";import{_ as lo}from"./index.833c360b.js";import{_ as _o}from"./index.56ca7c7d.js";import{_ as po}from"./UserOutlined.a0670c65.js";import{_ as io}from"./index.7096b7e9.js";import{_ as ho}from"./index.bde236d0.js";import{_ as fo}from"./index.b34af542.js";import"./index.03c13174.js";import"./FormItem.aab759e1.js";import"./zoom.cba4073c.js";import"./hasIn.fd17fd00.js";import"./isSymbol.28713955.js";import"./Password.0211d37f.js";import"./styleChecker.29229325.js";import"./EyeOutlined.deffa0c0.js";import"./collapseMotion.f1f8d61b.js";import"./useFlexGapSupport.d9dc3cd0.js";import"./debounce.ff103b05.js";import"./index.3fdac0c6.js";import"./SearchOutlined.4ca08eb4.js";import"./index.f15daada.js";import"./ResizeObserver.es.0f9f8adb.js";import"./index.4c10a40d.js";import"./index.a68a0920.js";import"./KeyCode.6e31e5e1.js";import"./FetchInstance.12311bd0.js";import"./LeftOutlined.b7f52e0f.js";import"./pickAttrs.aaf4be5e.js";import"./isMobile.358fd6c2.js";import"./useMergedState.8fbbbf27.js";import"./useRefs.ffce2853.js";const go={class:"mb-[30px]"},yo={class:"flex gap-[50px] mt-[20px] w-full justify-start px-3 md:px-[50px]"},xo={class:"w-full"},bo=c("span",{class:"text-xl"},"Sắp xếp:",-1),mo={key:0,class:"flex flex-wrap gap-[20px]"},ko={class:"relative"},vo=["src"],Co={key:0,class:"absolute top-2 left-2"},wo=c("div",{class:"font-[600] bordered p-1 w-fit rounded-[4px] mx-auto text-[12px] bg-red-500 text-white"}," Đã bán hết ",-1),So=[wo],Mo={key:1,class:"absolute top-[10px] right-[10px]"},qo={class:"bg-red-200 text-red-500 p-1"},Bo={class:"m-0 text-base"},Do={class:"product_price flex items-center gap-[10px]"},Go={class:"font-bold text-red-500"},zo={key:1,class:"font-bold text-red-500"},No={class:"flex justify-center mt-[15px]"},kn=no({__name:"giay-nam",setup(Fo){const r=R(),v=to("formatVnCurrency",t=>0),x=q([]),f=w({current:1,pageSize:12,total:0}),s=w({hienThiWeb:!0,gioiTinh:"MALE"}),u=w({title:"Mới nhất",by:"id,desc"}),D=t=>{switch(console.log("sort by: ",t),t.key){case"latest":u.title="Mới nhất",u.by="id,desc";break;case"sale":u.title="Bán chạy nhất",u.by="daBan,desc";break;case"priceDown":u.title="Giá giảm dần",u.by="giaMoi,desc";break;case"priceUp":u.title="Giá tăng dần",u.by="giaMoi,asc";break}b()},G=t=>{s.thuongHieu=t.brand,s.dmGiay=t.category,s.mau=t.color,s.sizeId=t.sizeId,s.tieuDe=t.name||void 0,s.soSaoDanhGia=t.soSaoDanhGia,(t.priceStart>0||t.priceEnd>0)&&(s.khoangGia=t.priceRange),console.log("filter product",s),b()},y=q(!1),b=()=>{y.value||(y.value=!0,x.value=[],I.locSp(s,f.current-1,f.pageSize,u.by).then(t=>{console.log("product filter data",t),x.value=t.content,f.total=t.totalElements}).catch(()=>A.error({message:"Lọc thất bại!"})).finally(()=>y.value=!1))};return ao(()=>r.query,()=>{var t,p,l,i;s.dmGiay=void 0,s.thuongHieu=void 0,r.query.thuong_hieu&&(s.thuongHieu=(t=r.query)!=null&&t.thuong_hieu?Number((p=r.query)==null?void 0:p.thuong_hieu):void 0),r.query.danh_muc&&(s.dmGiay=(l=r.query)!=null&&l.danh_muc?Number((i=r.query)==null?void 0:i.danh_muc):void 0),b()},{flush:"pre",immediate:!0,deep:!0}),so(()=>{var t,p,l,i;r.query.thuong_hieu&&(s.thuongHieu=(t=r.query)!=null&&t.thuong_hieu?Number((p=r.query)==null?void 0:p.thuong_hieu):void 0),r.query.danh_muc&&(s.dmGiay=(l=r.query)!=null&&l.danh_muc?Number((i=r.query)==null?void 0:i.danh_muc):void 0),b()}),(t,p)=>{const l=eo("router-link"),i=K,z=J,N=O,m=po,k=W,F=X,$=Z,V=Y,j=oo,C=lo,P=io,U=ho,E=fo,H=Q,L=_o;return _(),d("div",go,[n(z,{class:"bg-gray-50 px-3 md:px-[50px] py-2"},{default:a(()=>[n(i,null,{default:a(()=>[n(l,{to:"/"},{default:a(()=>[h("Trang chủ")]),_:1})]),_:1}),n(i,null,{default:a(()=>[h("Giày nam")]),_:1})]),_:1}),c("div",yo,[n(N,{onFilter:G}),c("div",xo,[n(C,{class:"items-center justify-end w-full mb-[20px]"},{default:a(()=>[bo,n(j,null,{overlay:a(()=>[n(F,{onClick:D},{default:a(()=>[n(k,{key:"latest"},{default:a(()=>[n(m),h(" Mới nhất ")]),_:1}),n(k,{key:"sale"},{default:a(()=>[n(m),h(" Bán chạy nhất ")]),_:1}),n(k,{key:"priceDown"},{default:a(()=>[n(m),h(" Giá giảm dần ")]),_:1}),n(k,{key:"priceUp"},{default:a(()=>[n(m),h(" Giá tăng dần ")]),_:1})]),_:1})]),default:a(()=>[n(V,null,{default:a(()=>[h(g(e(u).title)+" ",1),n($)]),_:1})]),_:1})]),_:1}),n(H,{class:ro({"flex justify-center":e(y)}),spinning:e(y)},{default:a(()=>[e(x).length>0?(_(),d("div",mo,[(_(!0),d(B,null,co(e(x),(o,T)=>(_(),d("div",{style:{width:"23%",border:"none","box-shadow":"none"},key:T},[c("div",ko,[n(l,{class:"block h-[300px]",to:`/san-pham/${o==null?void 0:o.slug}/${o==null?void 0:o.id}`},{default:a(()=>{var M;return[c("img",{src:(M=o==null?void 0:o.anhChinh)==null?void 0:M.url,class:"shadow-sm h-full rounded-[5px] hover:scale-[1.05] duration-200 easy-in-out"},null,8,vo)]}),_:2},1032,["to"]),(o==null?void 0:o.tongSp)==0?(_(),d("div",Co,So)):S("",!0),o!=null&&o.giaCu&&(o==null?void 0:o.giaCu)>0&&(o==null?void 0:o.giaCu)>(o==null?void 0:o.giaMoi)?(_(),d("div",Mo,[c("span",qo,"-"+g(Math.floor(Number(((o==null?void 0:o.giaCu)-(o==null?void 0:o.giaMoi))/(o==null?void 0:o.giaCu)*100)))+"%",1)])):S("",!0)]),n(C,{direction:"vertical",size:10,class:"mt-[10px]"},{default:a(()=>[c("h3",Bo,[n(l,{class:"font-[600]",to:`/san-pham/${o==null?void 0:o.slug}/${o==null?void 0:o.id}`},{default:a(()=>[h(g(o.tieuDe.slice(0,50)),1)]),_:2},1032,["to"])]),c("div",Do,[o!=null&&o.giaCu&&(o==null?void 0:o.giaCu)>0?(_(),d(B,{key:0},[c("del",null,g(e(v)(o==null?void 0:o.giaCu)),1),c("span",Go,g(e(v)(o==null?void 0:o.giaMoi)),1)],64)):(_(),d("span",zo,g(e(v)(o==null?void 0:o.giaMoi)),1))]),n(C,null,{default:a(()=>[n(P,{class:"text-[14px]",value:(o==null?void 0:o.tbDanhGia)||0,"allow-half":"",disabled:""},null,8,["value"]),n(U,{type:"vertical",class:"bg-gray-500"}),c("span",null,g((o==null?void 0:o.daBan)||0)+" Đã bán",1)]),_:2},1024)]),_:2},1024)]))),128))])):!e(y)&&e(x).length==0?(_(),uo(E,{key:1,status:"404","sub-title":"Không tìm thấy sản phẩm nào!"})):S("",!0)]),_:1},8,["class","spinning"]),c("div",No,[n(L,{current:e(f).current,"onUpdate:current":p[0]||(p[0]=o=>e(f).current=o),onChange:b,pageSize:e(f).pageSize,total:e(f).total},null,8,["current","pageSize","total"])])])])])}}});export{kn as default};
