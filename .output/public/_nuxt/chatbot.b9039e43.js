import{a0 as i,U as s,ag as c,ah as u,F as g,aa as p,ai as b,a8 as m,P as n,a9 as d,a1 as _}from"./swiper-vue.a421f1cd.js";import{_ as y}from"./entry.98dfd619.js";const v=""+globalThis.__publicAssetsURL("image/bot.png");const f={data(){return{isChatbotVisible:!1,userInput:"",messages:[]}},methods:{toggleChatbot(){this.isChatbotVisible=!this.isChatbotVisible},async sendMessage(){if(this.userInput){this.messages.push({text:this.userInput,isUser:!0});try{const a=await fetch("http://127.0.0.1:5000/chatbot/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:this.userInput})});if(!a.ok)throw new Error("Network response was not ok "+a.statusText);const e=await a.json();this.messages.push({text:e.response,isUser:!1}),this.userInput="",this.$nextTick(()=>{const l=this.$el.querySelector(".chatbox");l.scrollTop=l.scrollHeight})}catch(a){console.error("Error:",a),this.messages.push({text:"An error occurred. Please try again.",isUser:!1,isError:!0})}}}}},x=s("span",{class:"material-symbols-rounded"},[s("img",{style:{"border-radius":"50%"},class:"w-full",src:"https://e7.pngegg.com/pngimages/498/917/png-clipart-computer-icons-desktop-chatbot-icon-blue-angle-thumbnail.png"})],-1),k=s("span",{class:"material-symbols-outlined"},"close",-1),C=[x,k],w={class:"chatbot"},I=m('<div class="avatar"><div class="tpl-avatar"><div class="tpl-avatar-status" style="border-color:rgb(255, 255, 255);background:rgb(105, 222, 64);"></div><div class="tpl-avatar-image" style="background-color:rgb(255, 255, 255);"><div data-status="loaded" data-cover="true" class="lazy-img"><img src="https://cdn.chatbot.com/widget/61f28451fdd7c5000728b4f9/2A8kicyF.png" alt="" class="lazy-img-loaded"></div></div></div></div><h2>ChatBot</h2>',2),T=s("img",{style:{width:"35px",height:"26px"},src:"https://logowik.com/content/uploads/images/close1437.jpg"},null,-1),U=[T],V={class:"chatbox"},S=s("span",{class:"material-symbols-outlined"},[s("img",{class:"w-full",src:v})],-1),E={class:"chat-input"};function B(a,e,l,M,r,o){return n(),i("div",null,[s("button",{class:"chatbot-toggler",onClick:e[0]||(e[0]=(...t)=>o.toggleChatbot&&o.toggleChatbot(...t))},C),c(s("div",w,[s("header",null,[I,s("span",{class:"close-btn material-symbols-outlined",onClick:e[1]||(e[1]=(...t)=>o.toggleChatbot&&o.toggleChatbot(...t))},U)]),s("ul",V,[(n(!0),i(g,null,p(r.messages,(t,h)=>(n(),i("li",{class:d(["chat incoming",{outgoing:t.isUser}]),key:h},[S,s("p",{class:d({error:t.isError})},_(t.text),3)],2))),128))]),s("div",E,[c(s("textarea",{placeholder:"nhập tin nhắn của bạn ở đây...",spellcheck:"false",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>r.userInput=t)},null,512),[[b,r.userInput]]),s("span",{id:"send-btn",class:"material-symbols-rounded",onClick:e[3]||(e[3]=(...t)=>o.sendMessage&&o.sendMessage(...t))},"send")])],512),[[u,r.isChatbotVisible]])])}const z=y(f,[["render",B]]);export{z as default};
